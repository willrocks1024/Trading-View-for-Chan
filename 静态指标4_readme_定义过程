接下来需要实现中枢识别与绘制：
1. 从左到右找出第一个笔n，然后往右找相邻第二个笔n+1和第三个笔n+2，如果这三个相邻的笔不是互为反方向，则从第二个笔n+1往右找相邻的两个笔n+2和n+3，直到找到三个互为反方向相邻的笔
2. 三个互为反方向相邻的笔，则计算这三个笔上下值是否有重叠区间，如果没重叠区间，则不构成中枢的产生，如果有重叠区间，则构成中枢的产生，用半透明的浅蓝色块标记中枢的覆盖范围
3. 中枢产生后，继续往右历遍下一个任意方向的笔，如果该笔和中枢的覆盖范围有重叠区间，则更新重叠区间作为中枢的覆盖范围，然后继续往右历遍下一个笔，如果该笔和中枢的覆盖范围没重叠区间，则构成中枢的结束
4. 当一个中枢结束后，则继续往右寻找三个互为反方向的笔，构成新的中枢的产生，然后回到步骤3，如此循环。

接下来需要实现以下色块的绘制：
1. 从左到右找出第一个笔n，然后往右找相邻第二个笔n+1和第三个笔n+2，如果这三个相邻的笔不是互为反方向，则从第二个笔n+1往右找相邻的两个笔n+2和n+3，直到找到三个互为反方向相邻的笔
2. 把找到三个互为反方向的笔用半透明色块填充上下左右的覆盖范围

--三个互为反方向--》这要求三笔的方向都不同，改为只要求连续三笔方向依次不同


接下来你要对中枢进行如下修改并输出完整代码：
1. 如果任意相邻的笔是同一个方向，例如都是上升笔或者都是下降笔，则将这些相邻的笔当成同一个同方向的真笔
2. 如果一个笔的方向和前后相邻的笔的方向依次为反方向，则当前这一个笔也是真笔
3. 中枢的生成规则修改成用真笔判断，即是从左到右找出三个相邻的真笔，如果他们之间有价格重叠区间，则形成中枢的生成
4. 中枢生成之后，继续往右历遍真笔，如果这些真笔和中枢有价格重叠区间，则延续中枢，并用最新的重叠区间更新为中枢的y轴上下值
5. 中枢的延续过程中，如果遇到一个真笔和中枢没价格重叠区间，则形成中枢的终结
6. 中枢终结之后，继续往右历遍三个相邻的有价格重叠区间的真笔，作为新的中枢生成，然后继续重复中枢的延续和终结
